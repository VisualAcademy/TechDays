var ShipManager=function(){function n(n){this.myShipID=n,this.DrawDetails=!0,this.Ships={}}return n.prototype.InitializeMyShip=function(n){this.MyShip=new ShipController(["a","left"],["w","up"],["d","right"],["s","down"],"Space",n),this.MyShip.ID=this.myShipID,this.Ships[this.myShipID]=this.MyShip},n.prototype.RemoveShip=function(n){this.Ships[n].Destroy(),delete this.Ships[n]},n.prototype.UpdateShips=function(n){for(var t,i,u,f,e,r=0;r<n.length;r++)t=n[r],i=t.ID,t.Visible=!0,u=Math.min(t.Level,13),t.Vehicle=IMAGE_ASSETS["Ship"+u],f=t.Abilities,e=t.MovementController,delete t.Abilities,delete t.MovementController,this.Ships[i]?this.Ships[i].UpdateProperties(t):this.Ships[i]=new Ship(t),this.Ships[i].Disposed?(this.Ships[i].Destroy(),i!==this.MyShip.ID&&this.RemoveShip(i)):(this.Ships[i].Update(),this.Ships[i].ShipAbilityHandler.UpdateAbilities(f),this.Ships[i].MovementController.UpdateMovementController(e))},n.prototype.Update=function(n){var i=this.Ships[this.myShipID],t;i&&(i.Update(n),CanvasContext.Camera.Move(new Vector2(i.MovementController.Position.X+i.WIDTH*.5,i.MovementController.Position.Y+i.HEIGHT*.5)),i.Draw());for(t in this.Ships)CanvasContext.Camera.InView(this.Ships[t])&&this.myShipID!==this.Ships[t].ID?(this.Ships[t].Update(n),this.Ships[t].Draw(),this.Ships[t].LifeController.Alive&&this.DrawDetails&&(this.Ships[t].DrawHealthBar(),this.Ships[t].DrawName(10))):this.myShipID!==this.Ships[t].ID&&delete this.Ships[t]},n}()