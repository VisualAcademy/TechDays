var ExperienceMonitor=function(){function n(n,t){this._gameHUD=n,this._myShip=t,this._currentExperience=$("#Experience"),this._experienceBar=$("#ExperienceBar"),this._currentLevel=$("#Level"),this._levelNotification=$("#levelNotification"),this._currentLevelNotification=$("#CurrentLevel_Notification"),this._popupHolder=$("#popUpHolder"),this._lastExperience=this._myShip.Experience,this._lastLevel=1,this._lastExperienceToNextLevel=this._myShip.ExperienceToNextLevel,this._currentExperience=$("#Experience"),this._experienceBar=$("#ExperienceBar"),this._currentLevel=$("#Level"),this._levelNotification=$("#levelNotification"),this._currentLevelNotification=$("#CurrentLevel_Notification"),this._popupHolder=$("#popUpHolder")}return n.ANIMATE_SPEED=500,n.prototype.Update=function(){var r=this,t,i;(this._myShip.Experience!==this._lastExperience||this._myShip.Level!==this._lastLevel)&&(this._myShip.Level!==this._lastLevel?(t=this._lastExperienceToNextLevel-this._lastExperience+this._myShip.Experience,this._myShip.ResetTouchController(),this._experienceBar.css("width","0%"),this._popupHolder.css("display","block"),this._currentLevelNotification.html(this._myShip.Level.toString()),this._levelNotification.animate({top:0},1e3).delay(3e3).animate({top:-234},1e3,function(){r._popupHolder.css("display","none")})):t=this._myShip.Experience-this._lastExperience,this._currentExperience.html(this._myShip.Experience+"/"+this._myShip.ExperienceToNextLevel),i=this._myShip.Experience/this._myShip.ExperienceToNextLevel*100,t===0||isNaN(t)||GAME_GLOBALS.AnimationManager.Add(new TextAnimation(t>0?"+"+t:t,this._myShip.MovementController.Position,{duration:2e3,color:[250,182,250]})),this._currentExperience.stop(!0),this._currentExperience.animate({color:"#FFFFFF"},n.ANIMATE_SPEED).animate({color:"#7F7F7F"},n.ANIMATE_SPEED),this._experienceBar.animate({width:i+"%"},n.ANIMATE_SPEED,"easeOutExpo"),this._lastLevel=this._myShip.Level,this._lastExperience=this._myShip.Experience,this._lastExperienceToNextLevel=this._myShip.ExperienceToNextLevel,this._currentLevel.html(this._myShip.Level.toString()))},n}()