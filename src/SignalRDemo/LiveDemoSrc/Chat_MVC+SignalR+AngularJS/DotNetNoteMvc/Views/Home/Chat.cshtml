@{
    ViewBag.Title = "Chat";
}

<div ng-controller="chatController">
    <h2>Chat</h2>
    <span ng-model="hitCount">{{hitCount}}</span>명 접속중입니다.<br />
    <div class="row">
        <div class="col-sm-6">
            이름:
            <input ng-disabled="isName" type="text" ng-model="name" />
            <input ng-hide="isName" type="button" value="이름 설정" class="btn btn-primary" ng-click="setName()" />
        </div>
        <div class="col-sm-6">
            방:
            <input ng-disabled="isRoom" type="text" ng-model="room" />
            <input ng-hide="isRoom" type="button" ng-click="joinRoom()" class="btn btn-primary" value="들어가기" />
            <input ng-show="isRoom" type="button" ng-click="leaveRoom()" class="btn btn-primary" value="나가기" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            메시지:
            <input ng-show="isName" type="text" ng-model="message" />
            <input ng-show="isName" type="button" value="전송" ng-click="sendMessage()" class="btn btn-primary" />
            <hr />
            <div ng-repeat="m in messages">{{m.message}}</div>
        </div>
    </div>
</div>
